{"version":3,"sources":["webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/classPrivateFieldGet.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/classPrivateFieldSet.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/createClass.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/inherits.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://@bybas/typewriter/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@bybas/typewriter/./node_modules/array-move/index.js","webpack://@bybas/typewriter/external [\"wp\",\"element\"]","webpack://@bybas/typewriter/external [\"wp\",\"blockEditor\"]","webpack://@bybas/typewriter/external [\"wp\",\"components\"]","webpack://@bybas/typewriter/external [\"wp\",\"compose\"]","webpack://@bybas/typewriter/external [\"wp\",\"data\"]","webpack://@bybas/typewriter/external [\"wp\",\"editPost\"]","webpack://@bybas/typewriter/external [\"wp\",\"i18n\"]","webpack://@bybas/typewriter/external [\"wp\",\"plugins\"]","webpack://@bybas/typewriter/./resource/admin/js/feature/gallery.jsx","webpack://@bybas/typewriter/./resource/admin/js/feature/meta-fields.jsx","webpack://@bybas/typewriter/external [\"wp\",\"editor\"]","webpack://@bybas/typewriter/external [\"wp\",\"hooks\"]","webpack://@bybas/typewriter/./resource/admin/js/feature/post-thumbnail.jsx","webpack://@bybas/typewriter/external [\"wp\",\"htmlEntities\"]","webpack://@bybas/typewriter/./resource/admin/js/util/sanitize.js","webpack://@bybas/typewriter/./resource/admin/js/component/SelectPostDialog.jsx","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/objectSpread.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://@bybas/typewriter/external \"React\"","webpack://@bybas/typewriter/external \"ReactDOM\"","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://@bybas/typewriter/./node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js","webpack://@bybas/typewriter/./resource/admin/js/hoc/SortableList.jsx","webpack://@bybas/typewriter/./resource/admin/js/feature/relation.jsx","webpack://@bybas/typewriter/./resource/admin/js/index.js","webpack://@bybas/typewriter/./node_modules/invariant/browser.js","webpack://@bybas/typewriter/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://@bybas/typewriter/./node_modules/prop-types/index.js","webpack://@bybas/typewriter/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://@bybas/typewriter/webpack/bootstrap","webpack://@bybas/typewriter/webpack/startup","webpack://@bybas/typewriter/webpack/runtime/compat get default export","webpack://@bybas/typewriter/webpack/runtime/define property getters","webpack://@bybas/typewriter/webpack/runtime/hasOwnProperty shorthand","webpack://@bybas/typewriter/webpack/runtime/make namespace object"],"names":["module","exports","arr","Array","isArray","i","arr2","length","self","ReferenceError","instance","Constructor","TypeError","receiver","privateMap","descriptor","get","call","value","set","writable","_defineProperties","target","props","enumerable","configurable","Object","defineProperty","key","protoProps","staticProps","prototype","obj","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","subClass","superClass","create","constructor","iter","Symbol","iterator","toString","from","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","_typeof","assertThisInitialized","_setPrototypeOf","p","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","arrayMoveMutate","array","to","startIndex","endIndex","item","splice","mutate","didInitializePlugin","Galleries","registerPlugin","name","icon","render","Fragment","PluginSidebarMoreMenuItem","__","PluginSidebar","title","PanelBody","initialOpen","Slot","Gallery","id","label","metaKey","this","ComposedComponent","compose","applyWithDispatch","withDispatch","dispatch","meta","editPost","onMediaSelected","medias","map","media","onRemoveGallery","applyWithSelect","withSelect","select","getMedia","getPostType","getCurrentPostId","getEditedPostAttribute","mediaIds","mediaId","filter","currentPostId","postType","renderComponent","Fill","PanelRow","style","display","margin","flexFlow","renderMedia","Notice","status","isDismissible","MediaUploadCheck","fallback","MediaUpload","allowedTypes","gallery","multiple","onSelect","open","renderAddButton","Button","onClick","isLink","isDestructive","src","media_details","sizes","thumbnail","source_url","height","width","alt","rendered","isEmpty","isSecondary","isSmall","fieldRenderers","TextControl","field","onUpdate","metaFields","meta_key","placeholder","onChange","TextareaControl","MetaFieldsComponent","fields","control_type","PluginDocumentSettingPanel","description","dangerouslySetInnerHTML","__html","MetaFields","valueKey","PostThumbnailComponent","mediaWidth","mediaHeight","mediaSourceUrl","has","_","instructions","mediaSize","applyFilters","fallbackMediaSize","PostFeaturedImageCheck","className","onUpdateImage","modalClass","aria-label","ResponsiveWrapper","naturalWidth","naturalHeight","isInline","Spinner","isLoading","isButton","isLarge","onRemoveImage","PostThumbnail","stripTags","html","decodeEntities","replace","SelectPostDialog","useState","searchQuery","setSearchQuery","Modal","focusOnMount","shouldCloseOnClickOutside","shouldCloseOnEsc","onRequestClose","tabIndex","type","onInput","evt","SelectPostDialogResults","results","getEntityRecords","order","orderby","per_page","search","result","excerpt","_extends","assign","arguments","source","hasOwnProperty","apply","_arrayLikeToArray","len","_unsupportedIterableToArray","minLen","n","slice","test","_slicedToArray","_defineProperty","ownKeys","keys","getOwnPropertySymbols","concat","sym","getOwnPropertyDescriptor","forEach","_classCallCheck","_createClass","_assertThisInitialized","_possibleConstructorReturn","_inherits","_toConsumableArray","Manager","collection","ref","refs","index","getIndex","active","_this","find","_ref","node","sortableInfo","indexOf","sort","sortByIndex","_ref2","_ref3","omit","keysToOmit","reduce","acc","events","end","move","start","vendorPrefix","window","document","styles","getComputedStyle","documentElement","pre","join","match","OLink","toUpperCase","substr","setInlineStyles","setTranslate3d","translate","x","y","setTransitionDuration","duration","closest","el","fn","parentNode","limit","min","max","Math","getPixelValue","stringValue","parseFloat","getElementMargin","element","bottom","marginBottom","left","marginLeft","right","marginRight","top","marginTop","provideDisplayName","prefix","Component$$1","componentName","displayName","getScrollAdjustedBoundingClientRect","scrollDelta","boundingClientRect","getBoundingClientRect","getPosition","event","touches","pageX","pageY","changedTouches","isTouchEvent","getEdgeOffset","parent","offset","nodeOffset","offsetLeft","offsetTop","getTargetIndex","newIndex","prevIndex","oldIndex","getLockPixelOffset","lockOffset","offsetX","offsetY","unit","exec","isFinite","getLockPixelOffsets","offsets","_offsets","minLockOffset","maxLockOffset","getScrollingParent","HTMLElement","computedStyle","overflowRegex","property","isScrollable","getContainerGridGap","gridColumnGap","gridRowGap","KEYCODE","NodeType","cloneNode","selector","querySelectorAll","clonedNode","tagName","getContext","drawImage","isSortableHandle","sortableHandle","AutoScroller","container","onScrollCallback","interval","clearInterval","minTranslate","maxTranslate","direction","speed","acceleration","_this$container","scrollTop","scrollLeft","scrollHeight","scrollWidth","isTop","isBottom","clientHeight","isLeft","isRight","clientWidth","abs","clear","isAutoScrolling","setInterval","propTypes","axis","contentWindow","disableAutoscroll","distance","getContainer","getHelperDimensions","helperClass","helperContainer","hideSortableGhost","keyboardSortingTransitionDuration","lockAxis","lockToContainerEdges","onSortEnd","onSortMove","onSortOver","onSortStart","pressDelay","pressThreshold","keyCodes","lift","drop","cancel","up","down","shouldCancelStart","transitionDuration","updateBeforeSortStart","useDragHandle","useWindowAsScrollContainer","defaultKeyCodes","defaultProps","offsetHeight","offsetWidth","contentEditable","omittedProps","validateProps","_finallyRethrows","body","finalizer","e","then","bind","propTypes$1","disabled","omittedProps$1","SortableListComponent","items","SortableListItem","onDelete","Component","WrappedComponent","_class","_temp","config","withRef","_React$Component","WithSortableElement","register","prevProps","unregister","_this$props","findDOMNode","manager","context","add","remove","wrappedInstance","createElement","SortableElement","SortableListItemHandle","role","xmlns","viewBox","fill","d","WithSortableHandle","SortableHandle","SortableList","WithSortableContainer","button","touched","position","nodeIsChild","state","sorting","_node$sortableInfo","preventDefault","handlePress","pressTimer","setTimeout","_this$props2","_awaitingUpdateBeforeSortStart","delta","combinedDelta","isActive","clearTimeout","cancelTimer","getActive","_temp6","_temp7","_node","gridGap","containerBoundingRect","scrollContainer","dimensions","_getHelperDimensions","_collection","marginOffset","_axis","offsetEdge","initialOffset","_isKeySorting","initialScroll","initialWindowScroll","pageXOffset","pageYOffset","helper","appendChild","boxSizing","pointerEvents","focus","_hideSortableGhost","sortableGhost","opacity","visibility","_useWindowAsScrollContainer","innerWidth","innerHeight","containerTop","containerLeft","containerWidth","containerBottom","containerRight","_helperClass","split","classList","listenerNode","addEventListener","handleKeyEnd","handleKeyDown","eventName","handleSortMove","handleSortEnd","setState","sortingIndex","_onSortStart","isKeySorting","nodes","getOrderedRefs","keyMove","_this$props3","_temp8","_temp9","Promise","resolve","_wasThrown","_result","reject","updateHelperPosition","animateNodes","autoscroll","_this$props4","_this$manager","removeEventListener","removeChild","_node2","edgeOffset","autoScroller","scrollX","scrollY","update","keyCode","_this$props5","_this$props5$keyCodes","includes","isValidSortingTarget","stopPropagation","keyLift","keyDrop","_node$sortableInfo2","initialFocusedNode","shift","lastIndex","targetIndex","targetNode","containerScrollDelta","targetBoundingClientRect","targetTranslate","targetPosition","shouldAdjustForSize","sizeAdjustment","ignoreTransition","handleEnd","handleMove","handleStart","_this2","containerNode","ownerDocument","defaultView","scrollingElement","onAutoScroll","_this3","_this$props6","_this$props6$keyboard","_getLockPixelOffsets2","minOffset","maxOffset","_this$props7","windowScrollDelta","sortingOffset","_node3","mustShiftBackward","mustShiftForward","nextNode","prevNode","getWrappedInstance","SortableContainer","Relations","Relation","foreignType","createNotice","onObjectAdded","objectIds","onObjectDeleted","removeId","onObjectSorted","arrayMove","objects","isOpen","setOpen","packageJson","tw","feature","version","condition","format","a","b","c","f","error","Error","args","argIndex","framesToPop","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","location","propFullName","secret","getShim","isRequired","ReactPropTypes","bool","func","number","object","string","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","getter","__esModule","definition","prop","r","toStringTag"],"mappings":"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","file":"admin.js","sourcesContent":["function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = privateMap.get(receiver);\n\n  if (!descriptor) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n\n  return descriptor.value;\n}\n\nmodule.exports = _classPrivateFieldGet;","function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = privateMap.get(receiver);\n\n  if (!descriptor) {\n    throw new TypeError(\"attempted to set private field on non-instance\");\n  }\n\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n\n    descriptor.value = value;\n  }\n\n  return value;\n}\n\nmodule.exports = _classPrivateFieldSet;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","'use strict';\n\nconst arrayMoveMutate = (array, from, to) => {\n\tconst startIndex = from < 0 ? array.length + from : from;\n\n\tif (startIndex >= 0 && startIndex < array.length) {\n\t\tconst endIndex = to < 0 ? array.length + to : to;\n\n\t\tconst [item] = array.splice(from, 1);\n\t\tarray.splice(endIndex, 0, item);\n\t}\n};\n\nconst arrayMove = (array, from, to) => {\n\tarray = [...array];\n\tarrayMoveMutate(array, from, to);\n\treturn array;\n};\n\nmodule.exports = arrayMove;\nmodule.exports.mutate = arrayMoveMutate;\n","const __WEBPACK_NAMESPACE_OBJECT__ = self[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = self[\"wp\"][\"blockEditor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = self[\"wp\"][\"components\"];","const __WEBPACK_NAMESPACE_OBJECT__ = self[\"wp\"][\"compose\"];","const __WEBPACK_NAMESPACE_OBJECT__ = self[\"wp\"][\"data\"];","const __WEBPACK_NAMESPACE_OBJECT__ = self[\"wp\"][\"editPost\"];","const __WEBPACK_NAMESPACE_OBJECT__ = self[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = self[\"wp\"][\"plugins\"];","import {MediaUpload, MediaUploadCheck} from \"@wordpress/block-editor\";\nimport {Button, Fill, Notice, PanelBody, PanelRow, Slot} from \"@wordpress/components\";\nimport {compose} from \"@wordpress/compose\";\nimport {withDispatch, withSelect} from \"@wordpress/data\";\nimport {PluginSidebar, PluginSidebarMoreMenuItem} from \"@wordpress/edit-post\";\nimport {Fragment} from \"@wordpress/element\";\nimport {__} from \"@wordpress/i18n\";\nimport {registerPlugin} from \"@wordpress/plugins\";\n\nlet didInitializePlugin = false;\nlet galleries = null;\n\nfunction initializePlugin()\n{\n\tif (didInitializePlugin)\n\t\treturn;\n\n\tdidInitializePlugin = true;\n\tgalleries = new Galleries();\n}\n\nexport class Galleries\n{\n\n\tconstructor()\n\t{\n\t\tregisterPlugin(\"tw-galleries\", {\n\t\t\tname: \"TypeWriter: Galleries\",\n\t\t\ticon: \"format-gallery\",\n\t\t\trender: () => this.render()\n\t\t});\n\t}\n\n\trender()\n\t{\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<PluginSidebarMoreMenuItem target=\"tw-gallery\" icon=\"format-gallery\">\n\t\t\t\t\t{__(\"Galleries Manager\", \"tw\")}\n\t\t\t\t</PluginSidebarMoreMenuItem>\n\n\t\t\t\t<PluginSidebar name=\"tw-gallery\" icon=\"format-gallery\" title={__(\"Galleries\", \"tw\")}>\n\t\t\t\t\t<PanelBody title={null} initialOpen={true}>\n\t\t\t\t\t\t{__(\"Here you can change the galleries supported by the selected template.\", \"tw\")}\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<Slot name=\"tw-galleries\"/>\n\t\t\t\t</PluginSidebar>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n}\n\nexport class Gallery\n{\n\n\t#id;\n\t#label;\n\t#metaKey;\n\n\tconstructor(id, label, metaKey)\n\t{\n\t\tthis.#id = id;\n\t\tthis.#label = label;\n\t\tthis.#metaKey = metaKey;\n\n\t\tinitializePlugin();\n\n\t\tconst ComposedComponent = this.compose();\n\n\t\tregisterPlugin(`tw-galleries-${id}`, {\n\t\t\ticon: \"\",\n\t\t\trender: () => this.render(ComposedComponent)\n\t\t});\n\t}\n\n\tcompose()\n\t{\n\t\tconst applyWithDispatch = withDispatch((dispatch, {meta}) =>\n\t\t{\n\t\t\tconst {editPost} = dispatch(\"core/editor\");\n\n\t\t\treturn {\n\n\t\t\t\tonMediaSelected: (medias) =>\n\t\t\t\t{\n\t\t\t\t\teditPost({meta: {...meta, [this.#metaKey]: medias.map(media => media.id)}});\n\t\t\t\t},\n\n\t\t\t\tonRemoveGallery: () =>\n\t\t\t\t{\n\t\t\t\t\teditPost({meta: {...meta, [this.#metaKey]: []}});\n\t\t\t\t}\n\n\t\t\t};\n\t\t});\n\n\t\tconst applyWithSelect = withSelect(select =>\n\t\t{\n\t\t\tconst {getMedia, getPostType} = select(\"core\");\n\t\t\tconst {getCurrentPostId, getEditedPostAttribute} = select(\"core/editor\");\n\n\t\t\tconst mediaIds = getEditedPostAttribute(\"meta\")[this.#metaKey] || [];\n\n\t\t\treturn {\n\t\t\t\tmedias: mediaIds\n\t\t\t\t\t.map(mediaId => getMedia(mediaId))\n\t\t\t\t\t.filter(media => !!media),\n\t\t\t\tmediaIds: mediaIds.length === 0 ? null : mediaIds,\n\t\t\t\tcurrentPostId: getCurrentPostId(),\n\t\t\t\tpostType: getPostType(getEditedPostAttribute(\"type\"))\n\t\t\t};\n\t\t});\n\n\t\treturn compose(\n\t\t\tapplyWithDispatch,\n\t\t\tapplyWithSelect\n\t\t)(props => this.renderComponent(props));\n\t}\n\n\trender(ComposedComponent)\n\t{\n\t\treturn (\n\t\t\t<ComposedComponent/>\n\t\t);\n\t}\n\n\trenderComponent(props)\n\t{\n\t\tconst {medias, mediaIds} = props;\n\n\t\treturn (\n\t\t\t<Fill name=\"tw-galleries\">\n\t\t\t\t<PanelBody title={this.#label}>\n\t\t\t\t\t{\n\t\t\t\t\t\tmedias.length > 0\n\t\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t\t\t<div style={{display: \"flex\", margin: -2, flexFlow: \"row wrap\"}}>\n\t\t\t\t\t\t\t\t\t\t{medias.map(this.renderMedia)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t\t<div style={{margin: \"0 -15px\"}}>\n\t\t\t\t\t\t\t\t\t<Notice status=\"warning\" isDismissible={false}>\n\t\t\t\t\t\t\t\t\t\t{__(\"This gallery appears to be empty.\", \"tw\")}\n\t\t\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<MediaUploadCheck fallback={__(\"To edit this gallery, you need permissions to upload media.\", \"tw\")}>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\ttitle={this.#label}\n\t\t\t\t\t\t\t\tallowedTypes=\"image\"\n\t\t\t\t\t\t\t\tgallery={true}\n\t\t\t\t\t\t\t\tmultiple={true}\n\t\t\t\t\t\t\t\tvalue={mediaIds}\n\t\t\t\t\t\t\t\tonSelect={props.onMediaSelected}\n\t\t\t\t\t\t\t\trender={(({open}) => this.renderAddButton(open, medias.length === 0))}/>\n\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t\t{medias.length > 0 && (\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<Button onClick={props.onRemoveGallery} isLink isDestructive>\n\t\t\t\t\t\t\t\t{__(\"Remove gallery\", \"tw\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t)}\n\t\t\t\t</PanelBody>\n\t\t\t</Fill>\n\t\t);\n\t}\n\n\trenderMedia(media)\n\t{\n\t\treturn (\n\t\t\t<img src={media.media_details.sizes.thumbnail.source_url} height={57} width={57} alt={media.title.rendered} style={{margin: 2}}/>\n\t\t);\n\t}\n\n\trenderAddButton(open, isEmpty)\n\t{\n\t\treturn (\n\t\t\t<Button isSecondary isSmall onClick={open}>{__(isEmpty ? \"Add media\" : \"Edit media\", \"tw\")}</Button>\n\t\t);\n\t}\n\n}\n","import {TextareaControl, TextControl} from \"@wordpress/components\";\nimport {compose} from \"@wordpress/compose\";\nimport {withDispatch, withSelect} from \"@wordpress/data\";\nimport {PluginDocumentSettingPanel} from \"@wordpress/edit-post\";\nimport {__} from \"@wordpress/i18n\";\nimport {registerPlugin} from \"@wordpress/plugins\";\n\n// noinspection JSUnusedLocalSymbols\nconst __mock = {\n\tcontrol_type: \"\",\n\tmeta_key: \"\"\n};\n\nconst fieldRenderers = {\n\n\tTextControl: (field, onUpdate, metaFields) =>\n\t{\n\t\treturn (\n\t\t\t<TextControl\n\t\t\t\tvalue={metaFields[field.meta_key]}\n\t\t\t\tlabel={__(field.label, \"tw\")}\n\t\t\t\tplaceholder={__(field.placeholder, \"tw\")}\n\t\t\t\tonChange={value => onUpdate(field.meta_key, value, metaFields)}/>\n\t\t);\n\t},\n\n\tTextareaControl: (field, onUpdate, metaFields) =>\n\t{\n\t\treturn (\n\t\t\t<TextareaControl\n\t\t\t\tvalue={metaFields[field.meta_key]}\n\t\t\t\tlabel={__(field.label, \"tw\")}\n\t\t\t\tplaceholder={__(field.placeholder, \"tw\")}\n\t\t\t\tonChange={value => onUpdate(field.meta_key, value, metaFields)}/>\n\t\t);\n\t}\n\n};\n\nfunction MetaFieldsComponent(props)\n{\n\tconst fields = props.fields.map(field => fieldRenderers[field.control_type](field, props.onUpdate, props.metaFields));\n\n\treturn (\n\n\t\t<PluginDocumentSettingPanel title={props.label}>\n\t\t\t{props.description !== \"\" && <p dangerouslySetInnerHTML={{__html: props.description}}/>}\n\t\t\t{fields}\n\t\t</PluginDocumentSettingPanel>\n\n\t);\n}\n\nexport class MetaFields\n{\n\n\t#id;\n\t#description;\n\t#label;\n\t#metaKey;\n\t#fields;\n\n\tconstructor(id, metaKey, label, description, fields)\n\t{\n\t\tthis.#id = id;\n\t\tthis.#description = description;\n\t\tthis.#label = label;\n\t\tthis.#metaKey = metaKey;\n\t\tthis.#fields = fields;\n\n\t\tconst ComposedComponent = this.compose();\n\n\t\tregisterPlugin(`meta-fields-${this.#id}`, {\n\t\t\tname: \"TypeWriter: Meta Fields\",\n\t\t\ticon: \"editor-quote\",\n\t\t\trender: () => this.render(ComposedComponent)\n\t\t});\n\t}\n\n\tcompose()\n\t{\n\t\tconst metaKey = this.#metaKey;\n\n\t\tconst applyWithDispatch = withDispatch((dispatch, {meta}) =>\n\t\t{\n\t\t\tconst {editPost} = dispatch(\"core/editor\");\n\n\t\t\treturn {\n\n\t\t\t\tonUpdate(valueKey, value, metaFields)\n\t\t\t\t{\n\t\t\t\t\teditPost({meta: {...meta, [metaKey]: {...metaFields, [valueKey]: value}}});\n\t\t\t\t}\n\n\t\t\t};\n\t\t});\n\n\t\tconst applyWithSelect = withSelect(select =>\n\t\t{\n\t\t\tconst {getEditedPostAttribute} = select(\"core/editor\");\n\n\t\t\treturn {\n\t\t\t\tmetaFields: getEditedPostAttribute(\"meta\")[metaKey] || {}\n\t\t\t};\n\t\t});\n\n\t\treturn compose(\n\t\t\tapplyWithDispatch,\n\t\t\tapplyWithSelect\n\t\t)(MetaFieldsComponent);\n\t}\n\n\trender(ComposedComponent)\n\t{\n\t\treturn <ComposedComponent\n\t\t\tid={this.#id}\n\t\t\tdescription={__(this.#description, \"tw\")}\n\t\t\tlabel={__(this.#label, \"tw\")}\n\t\t\tfields={this.#fields}/>;\n\t}\n\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = self[\"wp\"][\"editor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = self[\"wp\"][\"hooks\"];","import {MediaUpload, MediaUploadCheck} from \"@wordpress/block-editor\";\nimport {Button, ResponsiveWrapper, Spinner} from \"@wordpress/components\";\nimport {compose} from \"@wordpress/compose\";\nimport {withDispatch, withSelect} from \"@wordpress/data\";\nimport {PostFeaturedImageCheck} from \"@wordpress/editor\";\nimport {PluginDocumentSettingPanel} from \"@wordpress/edit-post\";\nimport {applyFilters} from \"@wordpress/hooks\";\nimport {__} from \"@wordpress/i18n\";\nimport {registerPlugin} from \"@wordpress/plugins\";\n\n// noinspection JSUnusedLocalSymbols\nconst __mock = {\n\tmedia_details: {\n\t\tsource_url: \"\"\n\t}\n};\n\nfunction PostThumbnailComponent(props)\n{\n\tconst {has} = _;\n\n\tconst instructions = <p>{__(\"To edit the image, you need permission to upload media.\", \"tw\")}</p>;\n\n\tlet mediaWidth, mediaHeight, mediaSourceUrl;\n\n\tif (props.media)\n\t{\n\t\tconst mediaSize = applyFilters(\"editor.PostFeaturedImage.imageSize\", \"post-thumbnail\", props.media.id, props.currentPostId);\n\n\t\tif (has(props.media, [\"media_details\", \"sizes\", mediaSize]))\n\t\t{\n\t\t\tmediaWidth = props.media.media_details.sizes[mediaSize].width;\n\t\t\tmediaHeight = props.media.media_details.sizes[mediaSize].height;\n\t\t\tmediaSourceUrl = props.media.media_details.sizes[mediaSize].source_url;\n\t\t} else\n\t\t{\n\t\t\tconst fallbackMediaSize = applyFilters(\"editor.PostFeaturedImage.imageSize\", \"thumbnail\", props.media.id, props.currentPostId);\n\t\t\tif (has(props.media, [\"media_details\", \"sizes\", fallbackMediaSize]))\n\t\t\t{\n\t\t\t\tmediaWidth = props.media.media_details.sizes[fallbackMediaSize].width;\n\t\t\t\tmediaHeight = props.media.media_details.sizes[fallbackMediaSize].height;\n\t\t\t\tmediaSourceUrl = props.media.media_details.sizes[fallbackMediaSize].source_url;\n\t\t\t} else\n\t\t\t{\n\t\t\t\tmediaWidth = props.media.media_details.width;\n\t\t\t\tmediaHeight = props.media.media_details.height;\n\t\t\t\tmediaSourceUrl = props.media.source_url;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\n\t\t<PluginDocumentSettingPanel title={props.label}>\n\t\t\t<PostFeaturedImageCheck>\n\t\t\t\t<div className=\"editor-post-featured-image\">\n\n\t\t\t\t\t<MediaUploadCheck fallback={instructions}>\n\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\ttitle={props.label}\n\t\t\t\t\t\t\tonSelect={props.onUpdateImage}\n\t\t\t\t\t\t\tallowedTypes=\"image\"\n\t\t\t\t\t\t\tmodalClass=\"editor-post-featured-image__media-modal\"\n\t\t\t\t\t\t\trender={({open}) => (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName={!props.mediaId ? \"editor-post-featured-image__toggle\" : \"editor-post-featured-image__preview\"}\n\t\t\t\t\t\t\t\t\tonClick={open}\n\t\t\t\t\t\t\t\t\taria-label={!props.mediaId ? null : __(\"Edit or update the image\", \"tw\")}>\n\t\t\t\t\t\t\t\t\t{!!props.mediaId && props.media &&\n\t\t\t\t\t\t\t\t\t<ResponsiveWrapper\n\t\t\t\t\t\t\t\t\t\tnaturalWidth={mediaWidth}\n\t\t\t\t\t\t\t\t\t\tnaturalHeight={mediaHeight}\n\t\t\t\t\t\t\t\t\t\tisInline>\n\t\t\t\t\t\t\t\t\t\t<img src={mediaSourceUrl} alt=\"\"/>\n\t\t\t\t\t\t\t\t\t</ResponsiveWrapper>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{!!props.mediaId && !props.media && <Spinner/>}\n\t\t\t\t\t\t\t\t\t{!props.mediaId && __(\"Update image\", \"tw\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tvalue={props.mediaId}/>\n\t\t\t\t\t</MediaUploadCheck>\n\n\t\t\t\t\t{!!props.mediaId && props.media && !props.media.isLoading &&\n\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\ttitle={props.label}\n\t\t\t\t\t\t\tonSelect={props.onUpdateImage}\n\t\t\t\t\t\t\tallowedTypes=\"image\"\n\t\t\t\t\t\t\tmodalClass=\"editor-post-featured-image__media-modal\"\n\t\t\t\t\t\t\trender={({open}) => (\n\t\t\t\t\t\t\t\t<Button onClick={open} isButton isLarge>\n\t\t\t\t\t\t\t\t\t{__(\"Replace image\", \"tw\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}/>\n\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t}\n\n\t\t\t\t\t{!!props.mediaId &&\n\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t<Button onClick={props.onRemoveImage} isLink isDestructive>\n\t\t\t\t\t\t\t{__(\"Remove image\", \"tw\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t}\n\n\t\t\t\t</div>\n\t\t\t</PostFeaturedImageCheck>\n\t\t</PluginDocumentSettingPanel>\n\n\t);\n}\n\nexport class PostThumbnail\n{\n\n\t#id;\n\t#label;\n\t#metaKey;\n\n\tconstructor(id, label, metaKey)\n\t{\n\t\tthis.#id = id;\n\t\tthis.#label = label;\n\t\tthis.#metaKey = metaKey;\n\n\t\tconst ComposedComponent = this.compose();\n\n\t\tregisterPlugin(`post-thumbnail-${this.#id}`, {\n\t\t\tname: \"TypeWriter: Post Thumbnails\",\n\t\t\ticon: \"format-image\",\n\t\t\trender: () => this.render(ComposedComponent)\n\t\t});\n\t}\n\n\tcompose()\n\t{\n\t\tconst metaKey = this.#metaKey;\n\n\t\tconst applyWithDispatch = withDispatch((dispatch, {meta}) =>\n\t\t{\n\t\t\tconst {editPost} = dispatch(\"core/editor\");\n\n\t\t\treturn {\n\n\t\t\t\tonUpdateImage(media)\n\t\t\t\t{\n\t\t\t\t\teditPost({meta: {...meta, [metaKey]: media.id}});\n\t\t\t\t},\n\n\t\t\t\tonRemoveImage()\n\t\t\t\t{\n\t\t\t\t\teditPost({meta: {...meta, [metaKey]: 0}});\n\t\t\t\t}\n\n\t\t\t};\n\t\t});\n\n\t\tconst applyWithSelect = withSelect(select =>\n\t\t{\n\t\t\tconst {getMedia, getPostType} = select(\"core\");\n\t\t\tconst {getCurrentPostId, getEditedPostAttribute} = select(\"core/editor\");\n\n\t\t\tconst mediaId = getEditedPostAttribute(\"meta\")[metaKey] || 0;\n\n\t\t\treturn {\n\t\t\t\tmedia: mediaId ? getMedia(mediaId) : null,\n\t\t\t\tmediaId: mediaId,\n\t\t\t\tcurrentPostId: getCurrentPostId(),\n\t\t\t\tpostType: getPostType(getEditedPostAttribute(\"type\"))\n\t\t\t};\n\t\t});\n\n\t\treturn compose(\n\t\t\tapplyWithDispatch,\n\t\t\tapplyWithSelect\n\t\t)(PostThumbnailComponent);\n\t}\n\n\trender(ComposedComponent)\n\t{\n\t\treturn <ComposedComponent\n\t\t\tid={this.#id}\n\t\t\tlabel={this.#label}/>;\n\t}\n\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = self[\"wp\"][\"htmlEntities\"];","/*\n * Copyright (c) 2019-2020 - Bas Milius <bas@mili.us>\n *\n * This file is part of TypeWriter, a base framework for WordPress.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport {decodeEntities} from \"@wordpress/html-entities\";\n\nexport function stripTags(html)\n{\n\treturn decodeEntities(html.replace(/(<([^>]+)>)/gi, \"\"));\n}\n","/*\n * Copyright (c) 2019-2020 - Bas Milius <bas@mili.us>\n *\n * This file is part of TypeWriter, a base framework for WordPress.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport {Modal, Notice, Spinner} from \"@wordpress/components\";\nimport {compose} from \"@wordpress/compose\";\nimport {withSelect} from \"@wordpress/data\";\nimport {useState} from \"@wordpress/element\";\nimport {__} from \"@wordpress/i18n\";\nimport {stripTags} from \"../util/sanitize\";\n\nconst SelectPostDialog = compose()(props =>\n{\n\tconst title = props.title || \"Choose an object...\";\n\n\tconst [searchQuery, setSearchQuery] = useState(\"\");\n\n\treturn (\n\t\t<Modal\n\t\t\tfocusOnMount={true}\n\t\t\tshouldCloseOnClickOutside={false}\n\t\t\tshouldCloseOnEsc={true}\n\t\t\ttitle={__(title, \"tw\")}\n\t\t\tonRequestClose={props.onRequestClose}>\n\n\t\t\t<input\n\t\t\t\ttabIndex={0}\n\t\t\t\ttype=\"search\"\n\t\t\t\tclassName=\"tw-dialog-search\"\n\t\t\t\tplaceholder={__(\"Search for objects...\", \"tw\")}\n\t\t\t\tvalue={searchQuery}\n\t\t\t\tonInput={evt => setSearchQuery(evt.target[\"value\"])}/>\n\n\t\t\t<SelectPostDialogResults\n\t\t\t\tpostType={props.postType || \"page\"}\n\t\t\t\tsearchQuery={searchQuery}\n\t\t\t\tonSelect={id => props.onSelect(id)}/>\n\n\t\t</Modal>\n\t);\n});\n\nconst SelectPostDialogResults = compose(\n\twithSelect((select, props) =>\n\t{\n\t\tconst {getEntityRecords} = select(\"core\");\n\n\t\tconst results = getEntityRecords(\"postType\", props.postType, {\n\t\t\torder: \"asc\",\n\t\t\torderby: \"title\",\n\t\t\tper_page: 5,\n\t\t\tsearch: props.searchQuery\n\t\t});\n\n\t\treturn {\n\t\t\tresults\n\t\t};\n\t})\n)(({results, onSelect}) =>\n{\n\tif (results === null) return (\n\t\t<div className=\"tw-dialog-results is-loading\">\n\t\t\t<Spinner/>\n\t\t</div>\n\t);\n\n\tif (results.length === 0) return (\n\t\t<div className=\"tw-dialog-results\">\n\t\t\t<Notice status=\"warning\" isDismissible={false}>\n\t\t\t\t{__(\"No objects were found.\", \"tw\")}\n\t\t\t</Notice>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<div className=\"tw-dialog-results\">\n\t\t\t{results.map(result => (\n\t\t\t\t<a className=\"tw-dialog-result\" onClick={() => onSelect(result.id)}>\n\t\t\t\t\t{result.title && <strong>{stripTags(result.title.rendered)}</strong>}\n\t\t\t\t\t{result.excerpt && <span>{stripTags(result.excerpt.rendered)}</span>}\n\t\t\t\t</a>\n\t\t\t))}\n\t\t</div>\n\t);\n});\n\nexport {\n\tSelectPostDialog\n};\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = self[\"React\"];","const __WEBPACK_NAMESPACE_OBJECT__ = self[\"ReactDOM\"];","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { createElement, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport invariant from 'invariant';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\n\nvar Manager = function () {\n  function Manager() {\n    _classCallCheck(this, Manager);\n\n    _defineProperty(this, \"refs\", {});\n  }\n\n  _createClass(Manager, [{\n    key: \"add\",\n    value: function add(collection, ref) {\n      if (!this.refs[collection]) {\n        this.refs[collection] = [];\n      }\n\n      this.refs[collection].push(ref);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(collection, ref) {\n      var index = this.getIndex(collection, ref);\n\n      if (index !== -1) {\n        this.refs[collection].splice(index, 1);\n      }\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n  }, {\n    key: \"getActive\",\n    value: function getActive() {\n      var _this = this;\n\n      return this.refs[this.active.collection].find(function (_ref) {\n        var node = _ref.node;\n        return node.sortableInfo.index == _this.active.index;\n      });\n    }\n  }, {\n    key: \"getIndex\",\n    value: function getIndex(collection, ref) {\n      return this.refs[collection].indexOf(ref);\n    }\n  }, {\n    key: \"getOrderedRefs\",\n    value: function getOrderedRefs() {\n      var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.active.collection;\n      return this.refs[collection].sort(sortByIndex);\n    }\n  }]);\n\n  return Manager;\n}();\n\nfunction sortByIndex(_ref2, _ref3) {\n  var index1 = _ref2.node.sortableInfo.index;\n  var index2 = _ref3.node.sortableInfo.index;\n  return index1 - index2;\n}\n\nfunction arrayMove(array, from, to) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof console !== 'undefined') {\n      console.warn(\"Deprecation warning: arrayMove will no longer be exported by 'react-sortable-hoc' in the next major release. Please install the `array-move` package locally instead. https://www.npmjs.com/package/array-move\");\n    }\n  }\n\n  array = array.slice();\n  array.splice(to < 0 ? array.length + to : to, 0, array.splice(from, 1)[0]);\n  return array;\n}\nfunction omit(obj, keysToOmit) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (keysToOmit.indexOf(key) === -1) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\nvar events = {\n  end: ['touchend', 'touchcancel', 'mouseup'],\n  move: ['touchmove', 'mousemove'],\n  start: ['touchstart', 'mousedown']\n};\nvar vendorPrefix = function () {\n  if (typeof window === 'undefined' || typeof document === 'undefined') {\n    return '';\n  }\n\n  var styles = window.getComputedStyle(document.documentElement, '') || ['-moz-hidden-iframe'];\n  var pre = (Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/) || styles.OLink === '' && ['', 'o'])[1];\n\n  switch (pre) {\n    case 'ms':\n      return 'ms';\n\n    default:\n      return pre && pre.length ? pre[0].toUpperCase() + pre.substr(1) : '';\n  }\n}();\nfunction setInlineStyles(node, styles) {\n  Object.keys(styles).forEach(function (key) {\n    node.style[key] = styles[key];\n  });\n}\nfunction setTranslate3d(node, translate) {\n  node.style[\"\".concat(vendorPrefix, \"Transform\")] = translate == null ? '' : \"translate3d(\".concat(translate.x, \"px,\").concat(translate.y, \"px,0)\");\n}\nfunction setTransitionDuration(node, duration) {\n  node.style[\"\".concat(vendorPrefix, \"TransitionDuration\")] = duration == null ? '' : \"\".concat(duration, \"ms\");\n}\nfunction closest(el, fn) {\n  while (el) {\n    if (fn(el)) {\n      return el;\n    }\n\n    el = el.parentNode;\n  }\n\n  return null;\n}\nfunction limit(min, max, value) {\n  return Math.max(min, Math.min(value, max));\n}\n\nfunction getPixelValue(stringValue) {\n  if (stringValue.substr(-2) === 'px') {\n    return parseFloat(stringValue);\n  }\n\n  return 0;\n}\n\nfunction getElementMargin(element) {\n  var style = window.getComputedStyle(element);\n  return {\n    bottom: getPixelValue(style.marginBottom),\n    left: getPixelValue(style.marginLeft),\n    right: getPixelValue(style.marginRight),\n    top: getPixelValue(style.marginTop)\n  };\n}\nfunction provideDisplayName(prefix, Component$$1) {\n  var componentName = Component$$1.displayName || Component$$1.name;\n  return componentName ? \"\".concat(prefix, \"(\").concat(componentName, \")\") : prefix;\n}\nfunction getScrollAdjustedBoundingClientRect(node, scrollDelta) {\n  var boundingClientRect = node.getBoundingClientRect();\n  return {\n    top: boundingClientRect.top + scrollDelta.top,\n    left: boundingClientRect.left + scrollDelta.left\n  };\n}\nfunction getPosition(event) {\n  if (event.touches && event.touches.length) {\n    return {\n      x: event.touches[0].pageX,\n      y: event.touches[0].pageY\n    };\n  } else if (event.changedTouches && event.changedTouches.length) {\n    return {\n      x: event.changedTouches[0].pageX,\n      y: event.changedTouches[0].pageY\n    };\n  } else {\n    return {\n      x: event.pageX,\n      y: event.pageY\n    };\n  }\n}\nfunction isTouchEvent(event) {\n  return event.touches && event.touches.length || event.changedTouches && event.changedTouches.length;\n}\nfunction getEdgeOffset(node, parent) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    left: 0,\n    top: 0\n  };\n\n  if (!node) {\n    return undefined;\n  }\n\n  var nodeOffset = {\n    left: offset.left + node.offsetLeft,\n    top: offset.top + node.offsetTop\n  };\n\n  if (node.parentNode === parent) {\n    return nodeOffset;\n  }\n\n  return getEdgeOffset(node.parentNode, parent, nodeOffset);\n}\nfunction getTargetIndex(newIndex, prevIndex, oldIndex) {\n  if (newIndex < oldIndex && newIndex > prevIndex) {\n    return newIndex - 1;\n  } else if (newIndex > oldIndex && newIndex < prevIndex) {\n    return newIndex + 1;\n  } else {\n    return newIndex;\n  }\n}\nfunction getLockPixelOffset(_ref) {\n  var lockOffset = _ref.lockOffset,\n      width = _ref.width,\n      height = _ref.height;\n  var offsetX = lockOffset;\n  var offsetY = lockOffset;\n  var unit = 'px';\n\n  if (typeof lockOffset === 'string') {\n    var match = /^[+-]?\\d*(?:\\.\\d*)?(px|%)$/.exec(lockOffset);\n    invariant(match !== null, 'lockOffset value should be a number or a string of a ' + 'number followed by \"px\" or \"%\". Given %s', lockOffset);\n    offsetX = parseFloat(lockOffset);\n    offsetY = parseFloat(lockOffset);\n    unit = match[1];\n  }\n\n  invariant(isFinite(offsetX) && isFinite(offsetY), 'lockOffset value should be a finite. Given %s', lockOffset);\n\n  if (unit === '%') {\n    offsetX = offsetX * width / 100;\n    offsetY = offsetY * height / 100;\n  }\n\n  return {\n    x: offsetX,\n    y: offsetY\n  };\n}\nfunction getLockPixelOffsets(_ref2) {\n  var height = _ref2.height,\n      width = _ref2.width,\n      lockOffset = _ref2.lockOffset;\n  var offsets = Array.isArray(lockOffset) ? lockOffset : [lockOffset, lockOffset];\n  invariant(offsets.length === 2, 'lockOffset prop of SortableContainer should be a single ' + 'value or an array of exactly two values. Given %s', lockOffset);\n\n  var _offsets = _slicedToArray(offsets, 2),\n      minLockOffset = _offsets[0],\n      maxLockOffset = _offsets[1];\n\n  return [getLockPixelOffset({\n    height: height,\n    lockOffset: minLockOffset,\n    width: width\n  }), getLockPixelOffset({\n    height: height,\n    lockOffset: maxLockOffset,\n    width: width\n  })];\n}\n\nfunction isScrollable(el) {\n  var computedStyle = window.getComputedStyle(el);\n  var overflowRegex = /(auto|scroll)/;\n  var properties = ['overflow', 'overflowX', 'overflowY'];\n  return properties.find(function (property) {\n    return overflowRegex.test(computedStyle[property]);\n  });\n}\n\nfunction getScrollingParent(el) {\n  if (!(el instanceof HTMLElement)) {\n    return null;\n  } else if (isScrollable(el)) {\n    return el;\n  } else {\n    return getScrollingParent(el.parentNode);\n  }\n}\nfunction getContainerGridGap(element) {\n  var style = window.getComputedStyle(element);\n\n  if (style.display === 'grid') {\n    return {\n      x: getPixelValue(style.gridColumnGap),\n      y: getPixelValue(style.gridRowGap)\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0\n  };\n}\nvar KEYCODE = {\n  TAB: 9,\n  ESC: 27,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40\n};\nvar NodeType = {\n  Anchor: 'A',\n  Button: 'BUTTON',\n  Canvas: 'CANVAS',\n  Input: 'INPUT',\n  Option: 'OPTION',\n  Textarea: 'TEXTAREA',\n  Select: 'SELECT'\n};\nfunction cloneNode(node) {\n  var selector = 'input, textarea, select, canvas, [contenteditable]';\n  var fields = node.querySelectorAll(selector);\n  var clonedNode = node.cloneNode(true);\n\n  var clonedFields = _toConsumableArray(clonedNode.querySelectorAll(selector));\n\n  clonedFields.forEach(function (field, i) {\n    if (field.type !== 'file') {\n      field.value = fields[i].value;\n    }\n\n    if (field.type === 'radio' && field.name) {\n      field.name = \"__sortableClone__\".concat(field.name);\n    }\n\n    if (field.tagName === NodeType.Canvas && fields[i].width > 0 && fields[i].height > 0) {\n      var destCtx = field.getContext('2d');\n      destCtx.drawImage(fields[i], 0, 0);\n    }\n  });\n  return clonedNode;\n}\n\nfunction sortableHandle(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableHandle, _React$Component);\n\n    function WithSortableHandle() {\n      _classCallCheck(this, WithSortableHandle);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(WithSortableHandle).apply(this, arguments));\n    }\n\n    _createClass(WithSortableHandle, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var node = findDOMNode(this);\n        node.sortableHandle = true;\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call');\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? 'wrappedInstance' : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, this.props));\n      }\n    }]);\n\n    return WithSortableHandle;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableHandle', WrappedComponent)), _temp;\n}\nfunction isSortableHandle(node) {\n  return node.sortableHandle != null;\n}\n\nvar AutoScroller = function () {\n  function AutoScroller(container, onScrollCallback) {\n    _classCallCheck(this, AutoScroller);\n\n    this.container = container;\n    this.onScrollCallback = onScrollCallback;\n  }\n\n  _createClass(AutoScroller, [{\n    key: \"clear\",\n    value: function clear() {\n      if (this.interval == null) {\n        return;\n      }\n\n      clearInterval(this.interval);\n      this.interval = null;\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref) {\n      var _this = this;\n\n      var translate = _ref.translate,\n          minTranslate = _ref.minTranslate,\n          maxTranslate = _ref.maxTranslate,\n          width = _ref.width,\n          height = _ref.height;\n      var direction = {\n        x: 0,\n        y: 0\n      };\n      var speed = {\n        x: 1,\n        y: 1\n      };\n      var acceleration = {\n        x: 10,\n        y: 10\n      };\n      var _this$container = this.container,\n          scrollTop = _this$container.scrollTop,\n          scrollLeft = _this$container.scrollLeft,\n          scrollHeight = _this$container.scrollHeight,\n          scrollWidth = _this$container.scrollWidth,\n          clientHeight = _this$container.clientHeight,\n          clientWidth = _this$container.clientWidth;\n      var isTop = scrollTop === 0;\n      var isBottom = scrollHeight - scrollTop - clientHeight === 0;\n      var isLeft = scrollLeft === 0;\n      var isRight = scrollWidth - scrollLeft - clientWidth === 0;\n\n      if (translate.y >= maxTranslate.y - height / 2 && !isBottom) {\n        direction.y = 1;\n        speed.y = acceleration.y * Math.abs((maxTranslate.y - height / 2 - translate.y) / height);\n      } else if (translate.x >= maxTranslate.x - width / 2 && !isRight) {\n        direction.x = 1;\n        speed.x = acceleration.x * Math.abs((maxTranslate.x - width / 2 - translate.x) / width);\n      } else if (translate.y <= minTranslate.y + height / 2 && !isTop) {\n        direction.y = -1;\n        speed.y = acceleration.y * Math.abs((translate.y - height / 2 - minTranslate.y) / height);\n      } else if (translate.x <= minTranslate.x + width / 2 && !isLeft) {\n        direction.x = -1;\n        speed.x = acceleration.x * Math.abs((translate.x - width / 2 - minTranslate.x) / width);\n      }\n\n      if (this.interval) {\n        this.clear();\n        this.isAutoScrolling = false;\n      }\n\n      if (direction.x !== 0 || direction.y !== 0) {\n        this.interval = setInterval(function () {\n          _this.isAutoScrolling = true;\n          var offset = {\n            left: speed.x * direction.x,\n            top: speed.y * direction.y\n          };\n          _this.container.scrollTop += offset.top;\n          _this.container.scrollLeft += offset.left;\n\n          _this.onScrollCallback(offset);\n        }, 5);\n      }\n    }\n  }]);\n\n  return AutoScroller;\n}();\n\nfunction defaultGetHelperDimensions(_ref) {\n  var node = _ref.node;\n  return {\n    height: node.offsetHeight,\n    width: node.offsetWidth\n  };\n}\n\nfunction defaultShouldCancelStart(event) {\n  var interactiveElements = [NodeType.Input, NodeType.Textarea, NodeType.Select, NodeType.Option, NodeType.Button];\n\n  if (interactiveElements.indexOf(event.target.tagName) !== -1) {\n    return true;\n  }\n\n  if (closest(event.target, function (el) {\n    return el.contentEditable === 'true';\n  })) {\n    return true;\n  }\n\n  return false;\n}\n\nvar propTypes = {\n  axis: PropTypes.oneOf(['x', 'y', 'xy']),\n  contentWindow: PropTypes.any,\n  disableAutoscroll: PropTypes.bool,\n  distance: PropTypes.number,\n  getContainer: PropTypes.func,\n  getHelperDimensions: PropTypes.func,\n  helperClass: PropTypes.string,\n  helperContainer: PropTypes.oneOfType([PropTypes.func, typeof HTMLElement === 'undefined' ? PropTypes.any : PropTypes.instanceOf(HTMLElement)]),\n  hideSortableGhost: PropTypes.bool,\n  keyboardSortingTransitionDuration: PropTypes.number,\n  lockAxis: PropTypes.string,\n  lockOffset: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string]))]),\n  lockToContainerEdges: PropTypes.bool,\n  onSortEnd: PropTypes.func,\n  onSortMove: PropTypes.func,\n  onSortOver: PropTypes.func,\n  onSortStart: PropTypes.func,\n  pressDelay: PropTypes.number,\n  pressThreshold: PropTypes.number,\n  keyCodes: PropTypes.shape({\n    lift: PropTypes.arrayOf(PropTypes.number),\n    drop: PropTypes.arrayOf(PropTypes.number),\n    cancel: PropTypes.arrayOf(PropTypes.number),\n    up: PropTypes.arrayOf(PropTypes.number),\n    down: PropTypes.arrayOf(PropTypes.number)\n  }),\n  shouldCancelStart: PropTypes.func,\n  transitionDuration: PropTypes.number,\n  updateBeforeSortStart: PropTypes.func,\n  useDragHandle: PropTypes.bool,\n  useWindowAsScrollContainer: PropTypes.bool\n};\nvar defaultKeyCodes = {\n  lift: [KEYCODE.SPACE],\n  drop: [KEYCODE.SPACE],\n  cancel: [KEYCODE.ESC],\n  up: [KEYCODE.UP, KEYCODE.LEFT],\n  down: [KEYCODE.DOWN, KEYCODE.RIGHT]\n};\nvar defaultProps = {\n  axis: 'y',\n  disableAutoscroll: false,\n  distance: 0,\n  getHelperDimensions: defaultGetHelperDimensions,\n  hideSortableGhost: true,\n  lockOffset: '50%',\n  lockToContainerEdges: false,\n  pressDelay: 0,\n  pressThreshold: 5,\n  keyCodes: defaultKeyCodes,\n  shouldCancelStart: defaultShouldCancelStart,\n  transitionDuration: 300,\n  useWindowAsScrollContainer: false\n};\nvar omittedProps = Object.keys(propTypes);\nfunction validateProps(props) {\n  invariant(!(props.distance && props.pressDelay), 'Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.');\n}\n\nfunction _finallyRethrows(body, finalizer) {\n  try {\n    var result = body();\n  } catch (e) {\n    return finalizer(true, e);\n  }\n\n  if (result && result.then) {\n    return result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n  }\n\n  return finalizer(false, value);\n}\nfunction sortableContainer(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableContainer, _React$Component);\n\n    function WithSortableContainer(props) {\n      var _this;\n\n      _classCallCheck(this, WithSortableContainer);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(WithSortableContainer).call(this, props));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {});\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleStart\", function (event) {\n        var _this$props = _this.props,\n            distance = _this$props.distance,\n            shouldCancelStart = _this$props.shouldCancelStart;\n\n        if (event.button === 2 || shouldCancelStart(event)) {\n          return;\n        }\n\n        _this.touched = true;\n        _this.position = getPosition(event);\n        var node = closest(event.target, function (el) {\n          return el.sortableInfo != null;\n        });\n\n        if (node && node.sortableInfo && _this.nodeIsChild(node) && !_this.state.sorting) {\n          var useDragHandle = _this.props.useDragHandle;\n          var _node$sortableInfo = node.sortableInfo,\n              index = _node$sortableInfo.index,\n              collection = _node$sortableInfo.collection,\n              disabled = _node$sortableInfo.disabled;\n\n          if (disabled) {\n            return;\n          }\n\n          if (useDragHandle && !closest(event.target, isSortableHandle)) {\n            return;\n          }\n\n          _this.manager.active = {\n            collection: collection,\n            index: index\n          };\n\n          if (!isTouchEvent(event) && event.target.tagName === NodeType.Anchor) {\n            event.preventDefault();\n          }\n\n          if (!distance) {\n            if (_this.props.pressDelay === 0) {\n              _this.handlePress(event);\n            } else {\n              _this.pressTimer = setTimeout(function () {\n                return _this.handlePress(event);\n              }, _this.props.pressDelay);\n            }\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"nodeIsChild\", function (node) {\n        return node.sortableInfo.manager === _this.manager;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMove\", function (event) {\n        var _this$props2 = _this.props,\n            distance = _this$props2.distance,\n            pressThreshold = _this$props2.pressThreshold;\n\n        if (!_this.state.sorting && _this.touched && !_this._awaitingUpdateBeforeSortStart) {\n          var position = getPosition(event);\n          var delta = {\n            x: _this.position.x - position.x,\n            y: _this.position.y - position.y\n          };\n          var combinedDelta = Math.abs(delta.x) + Math.abs(delta.y);\n          _this.delta = delta;\n\n          if (!distance && (!pressThreshold || combinedDelta >= pressThreshold)) {\n            clearTimeout(_this.cancelTimer);\n            _this.cancelTimer = setTimeout(_this.cancel, 0);\n          } else if (distance && combinedDelta >= distance && _this.manager.isActive()) {\n            _this.handlePress(event);\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleEnd\", function () {\n        _this.touched = false;\n\n        _this.cancel();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"cancel\", function () {\n        var distance = _this.props.distance;\n        var sorting = _this.state.sorting;\n\n        if (!sorting) {\n          if (!distance) {\n            clearTimeout(_this.pressTimer);\n          }\n\n          _this.manager.active = null;\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handlePress\", function (event) {\n        try {\n          var active = _this.manager.getActive();\n\n          var _temp6 = function () {\n            if (active) {\n              var _temp7 = function _temp7() {\n                var index = _node.sortableInfo.index;\n                var margin = getElementMargin(_node);\n                var gridGap = getContainerGridGap(_this.container);\n\n                var containerBoundingRect = _this.scrollContainer.getBoundingClientRect();\n\n                var dimensions = _getHelperDimensions({\n                  index: index,\n                  node: _node,\n                  collection: _collection\n                });\n\n                _this.node = _node;\n                _this.margin = margin;\n                _this.gridGap = gridGap;\n                _this.width = dimensions.width;\n                _this.height = dimensions.height;\n                _this.marginOffset = {\n                  x: _this.margin.left + _this.margin.right + _this.gridGap.x,\n                  y: Math.max(_this.margin.top, _this.margin.bottom, _this.gridGap.y)\n                };\n                _this.boundingClientRect = _node.getBoundingClientRect();\n                _this.containerBoundingRect = containerBoundingRect;\n                _this.index = index;\n                _this.newIndex = index;\n                _this.axis = {\n                  x: _axis.indexOf('x') >= 0,\n                  y: _axis.indexOf('y') >= 0\n                };\n                _this.offsetEdge = getEdgeOffset(_node, _this.container);\n\n                if (_isKeySorting) {\n                  _this.initialOffset = getPosition(_objectSpread({}, event, {\n                    pageX: _this.boundingClientRect.left,\n                    pageY: _this.boundingClientRect.top\n                  }));\n                } else {\n                  _this.initialOffset = getPosition(event);\n                }\n\n                _this.initialScroll = {\n                  left: _this.scrollContainer.scrollLeft,\n                  top: _this.scrollContainer.scrollTop\n                };\n                _this.initialWindowScroll = {\n                  left: window.pageXOffset,\n                  top: window.pageYOffset\n                };\n                _this.helper = _this.helperContainer.appendChild(cloneNode(_node));\n                setInlineStyles(_this.helper, {\n                  boxSizing: 'border-box',\n                  height: \"\".concat(_this.height, \"px\"),\n                  left: \"\".concat(_this.boundingClientRect.left - margin.left, \"px\"),\n                  pointerEvents: 'none',\n                  position: 'fixed',\n                  top: \"\".concat(_this.boundingClientRect.top - margin.top, \"px\"),\n                  width: \"\".concat(_this.width, \"px\")\n                });\n\n                if (_isKeySorting) {\n                  _this.helper.focus();\n                }\n\n                if (_hideSortableGhost) {\n                  _this.sortableGhost = _node;\n                  setInlineStyles(_node, {\n                    opacity: 0,\n                    visibility: 'hidden'\n                  });\n                }\n\n                _this.minTranslate = {};\n                _this.maxTranslate = {};\n\n                if (_isKeySorting) {\n                  var _ref = _useWindowAsScrollContainer ? {\n                    top: 0,\n                    left: 0,\n                    width: _this.contentWindow.innerWidth,\n                    height: _this.contentWindow.innerHeight\n                  } : _this.containerBoundingRect,\n                      containerTop = _ref.top,\n                      containerLeft = _ref.left,\n                      containerWidth = _ref.width,\n                      containerHeight = _ref.height;\n\n                  var containerBottom = containerTop + containerHeight;\n                  var containerRight = containerLeft + containerWidth;\n\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = containerLeft - _this.boundingClientRect.left;\n                    _this.maxTranslate.x = containerRight - (_this.boundingClientRect.left + _this.width);\n                  }\n\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = containerTop - _this.boundingClientRect.top;\n                    _this.maxTranslate.y = containerBottom - (_this.boundingClientRect.top + _this.height);\n                  }\n                } else {\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.left) - _this.boundingClientRect.left - _this.width / 2;\n                    _this.maxTranslate.x = (_useWindowAsScrollContainer ? _this.contentWindow.innerWidth : containerBoundingRect.left + containerBoundingRect.width) - _this.boundingClientRect.left - _this.width / 2;\n                  }\n\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.top) - _this.boundingClientRect.top - _this.height / 2;\n                    _this.maxTranslate.y = (_useWindowAsScrollContainer ? _this.contentWindow.innerHeight : containerBoundingRect.top + containerBoundingRect.height) - _this.boundingClientRect.top - _this.height / 2;\n                  }\n                }\n\n                if (_helperClass) {\n                  _helperClass.split(' ').forEach(function (className) {\n                    return _this.helper.classList.add(className);\n                  });\n                }\n\n                _this.listenerNode = event.touches ? _node : _this.contentWindow;\n\n                if (_isKeySorting) {\n                  _this.listenerNode.addEventListener('wheel', _this.handleKeyEnd, true);\n\n                  _this.listenerNode.addEventListener('mousedown', _this.handleKeyEnd, true);\n\n                  _this.listenerNode.addEventListener('keydown', _this.handleKeyDown);\n                } else {\n                  events.move.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortMove, false);\n                  });\n                  events.end.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortEnd, false);\n                  });\n                }\n\n                _this.setState({\n                  sorting: true,\n                  sortingIndex: index\n                });\n\n                if (_onSortStart) {\n                  _onSortStart({\n                    node: _node,\n                    index: index,\n                    collection: _collection,\n                    isKeySorting: _isKeySorting,\n                    nodes: _this.manager.getOrderedRefs(),\n                    helper: _this.helper\n                  }, event);\n                }\n\n                if (_isKeySorting) {\n                  _this.keyMove(0);\n                }\n              };\n\n              var _this$props3 = _this.props,\n                  _axis = _this$props3.axis,\n                  _getHelperDimensions = _this$props3.getHelperDimensions,\n                  _helperClass = _this$props3.helperClass,\n                  _hideSortableGhost = _this$props3.hideSortableGhost,\n                  updateBeforeSortStart = _this$props3.updateBeforeSortStart,\n                  _onSortStart = _this$props3.onSortStart,\n                  _useWindowAsScrollContainer = _this$props3.useWindowAsScrollContainer;\n              var _node = active.node,\n                  _collection = active.collection;\n              var _isKeySorting = _this.manager.isKeySorting;\n\n              var _temp8 = function () {\n                if (typeof updateBeforeSortStart === 'function') {\n                  _this._awaitingUpdateBeforeSortStart = true;\n\n                  var _temp9 = _finallyRethrows(function () {\n                    var index = _node.sortableInfo.index;\n                    return Promise.resolve(updateBeforeSortStart({\n                      collection: _collection,\n                      index: index,\n                      node: _node,\n                      isKeySorting: _isKeySorting\n                    }, event)).then(function () {});\n                  }, function (_wasThrown, _result) {\n                    _this._awaitingUpdateBeforeSortStart = false;\n                    if (_wasThrown) throw _result;\n                    return _result;\n                  });\n\n                  if (_temp9 && _temp9.then) return _temp9.then(function () {});\n                }\n              }();\n\n              return _temp8 && _temp8.then ? _temp8.then(_temp7) : _temp7(_temp8);\n            }\n          }();\n\n          return Promise.resolve(_temp6 && _temp6.then ? _temp6.then(function () {}) : void 0);\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortMove\", function (event) {\n        var onSortMove = _this.props.onSortMove;\n\n        if (typeof event.preventDefault === 'function') {\n          event.preventDefault();\n        }\n\n        _this.updateHelperPosition(event);\n\n        _this.animateNodes();\n\n        _this.autoscroll();\n\n        if (onSortMove) {\n          onSortMove(event);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortEnd\", function (event) {\n        var _this$props4 = _this.props,\n            hideSortableGhost = _this$props4.hideSortableGhost,\n            onSortEnd = _this$props4.onSortEnd;\n        var _this$manager = _this.manager,\n            collection = _this$manager.active.collection,\n            isKeySorting = _this$manager.isKeySorting;\n\n        var nodes = _this.manager.getOrderedRefs();\n\n        if (_this.listenerNode) {\n          if (isKeySorting) {\n            _this.listenerNode.removeEventListener('wheel', _this.handleKeyEnd, true);\n\n            _this.listenerNode.removeEventListener('mousedown', _this.handleKeyEnd, true);\n\n            _this.listenerNode.removeEventListener('keydown', _this.handleKeyDown);\n          } else {\n            events.move.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortMove);\n            });\n            events.end.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortEnd);\n            });\n          }\n        }\n\n        _this.helper.parentNode.removeChild(_this.helper);\n\n        if (hideSortableGhost && _this.sortableGhost) {\n          setInlineStyles(_this.sortableGhost, {\n            opacity: '',\n            visibility: ''\n          });\n        }\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node2 = nodes[i];\n          var el = _node2.node;\n          _node2.edgeOffset = null;\n          _node2.boundingClientRect = null;\n          setTranslate3d(el, null);\n          setTransitionDuration(el, null);\n          _node2.translate = null;\n        }\n\n        _this.autoScroller.clear();\n\n        _this.manager.active = null;\n        _this.manager.isKeySorting = false;\n\n        _this.setState({\n          sorting: false,\n          sortingIndex: null\n        });\n\n        if (typeof onSortEnd === 'function') {\n          onSortEnd({\n            collection: collection,\n            newIndex: _this.newIndex,\n            oldIndex: _this.index,\n            isKeySorting: isKeySorting,\n            nodes: nodes\n          }, event);\n        }\n\n        _this.touched = false;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"autoscroll\", function () {\n        var disableAutoscroll = _this.props.disableAutoscroll;\n        var isKeySorting = _this.manager.isKeySorting;\n\n        if (disableAutoscroll) {\n          _this.autoScroller.clear();\n\n          return;\n        }\n\n        if (isKeySorting) {\n          var translate = _objectSpread({}, _this.translate);\n\n          var scrollX = 0;\n          var scrollY = 0;\n\n          if (_this.axis.x) {\n            translate.x = Math.min(_this.maxTranslate.x, Math.max(_this.minTranslate.x, _this.translate.x));\n            scrollX = _this.translate.x - translate.x;\n          }\n\n          if (_this.axis.y) {\n            translate.y = Math.min(_this.maxTranslate.y, Math.max(_this.minTranslate.y, _this.translate.y));\n            scrollY = _this.translate.y - translate.y;\n          }\n\n          _this.translate = translate;\n          setTranslate3d(_this.helper, _this.translate);\n          _this.scrollContainer.scrollLeft += scrollX;\n          _this.scrollContainer.scrollTop += scrollY;\n          return;\n        }\n\n        _this.autoScroller.update({\n          height: _this.height,\n          maxTranslate: _this.maxTranslate,\n          minTranslate: _this.minTranslate,\n          translate: _this.translate,\n          width: _this.width\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onAutoScroll\", function (offset) {\n        _this.translate.x += offset.left;\n        _this.translate.y += offset.top;\n\n        _this.animateNodes();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyDown\", function (event) {\n        var keyCode = event.keyCode;\n        var _this$props5 = _this.props,\n            shouldCancelStart = _this$props5.shouldCancelStart,\n            _this$props5$keyCodes = _this$props5.keyCodes,\n            customKeyCodes = _this$props5$keyCodes === void 0 ? {} : _this$props5$keyCodes;\n\n        var keyCodes = _objectSpread({}, defaultKeyCodes, customKeyCodes);\n\n        if (_this.manager.active && !_this.manager.isKeySorting || !_this.manager.active && (!keyCodes.lift.includes(keyCode) || shouldCancelStart(event) || !_this.isValidSortingTarget(event))) {\n          return;\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n\n        if (keyCodes.lift.includes(keyCode) && !_this.manager.active) {\n          _this.keyLift(event);\n        } else if (keyCodes.drop.includes(keyCode) && _this.manager.active) {\n          _this.keyDrop(event);\n        } else if (keyCodes.cancel.includes(keyCode)) {\n          _this.newIndex = _this.manager.active.index;\n\n          _this.keyDrop(event);\n        } else if (keyCodes.up.includes(keyCode)) {\n          _this.keyMove(-1);\n        } else if (keyCodes.down.includes(keyCode)) {\n          _this.keyMove(1);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyLift\", function (event) {\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        var _node$sortableInfo2 = node.sortableInfo,\n            index = _node$sortableInfo2.index,\n            collection = _node$sortableInfo2.collection;\n        _this.initialFocusedNode = target;\n        _this.manager.isKeySorting = true;\n        _this.manager.active = {\n          index: index,\n          collection: collection\n        };\n\n        _this.handlePress(event);\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyMove\", function (shift) {\n        var nodes = _this.manager.getOrderedRefs();\n\n        var lastIndex = nodes[nodes.length - 1].node.sortableInfo.index;\n        var newIndex = _this.newIndex + shift;\n        var prevIndex = _this.newIndex;\n\n        if (newIndex < 0 || newIndex > lastIndex) {\n          return;\n        }\n\n        _this.prevIndex = prevIndex;\n        _this.newIndex = newIndex;\n        var targetIndex = getTargetIndex(_this.newIndex, _this.prevIndex, _this.index);\n        var target = nodes.find(function (_ref2) {\n          var node = _ref2.node;\n          return node.sortableInfo.index === targetIndex;\n        });\n        var targetNode = target.node;\n        var scrollDelta = _this.containerScrollDelta;\n        var targetBoundingClientRect = target.boundingClientRect || getScrollAdjustedBoundingClientRect(targetNode, scrollDelta);\n        var targetTranslate = target.translate || {\n          x: 0,\n          y: 0\n        };\n        var targetPosition = {\n          top: targetBoundingClientRect.top + targetTranslate.y - scrollDelta.top,\n          left: targetBoundingClientRect.left + targetTranslate.x - scrollDelta.left\n        };\n        var shouldAdjustForSize = prevIndex < newIndex;\n        var sizeAdjustment = {\n          x: shouldAdjustForSize && _this.axis.x ? targetNode.offsetWidth - _this.width : 0,\n          y: shouldAdjustForSize && _this.axis.y ? targetNode.offsetHeight - _this.height : 0\n        };\n\n        _this.handleSortMove({\n          pageX: targetPosition.left + sizeAdjustment.x,\n          pageY: targetPosition.top + sizeAdjustment.y,\n          ignoreTransition: shift === 0\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyDrop\", function (event) {\n        _this.handleSortEnd(event);\n\n        if (_this.initialFocusedNode) {\n          _this.initialFocusedNode.focus();\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyEnd\", function (event) {\n        if (_this.manager.active) {\n          _this.keyDrop(event);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isValidSortingTarget\", function (event) {\n        var useDragHandle = _this.props.useDragHandle;\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        return node && node.sortableInfo && !node.sortableInfo.disabled && (useDragHandle ? isSortableHandle(target) : target.sortableInfo);\n      });\n\n      validateProps(props);\n      _this.manager = new Manager();\n      _this.events = {\n        end: _this.handleEnd,\n        move: _this.handleMove,\n        start: _this.handleStart\n      };\n      return _this;\n    }\n\n    _createClass(WithSortableContainer, [{\n      key: \"getChildContext\",\n      value: function getChildContext() {\n        return {\n          manager: this.manager\n        };\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n        var container = this.getContainer();\n        Promise.resolve(container).then(function (containerNode) {\n          _this2.container = containerNode;\n          _this2.document = _this2.container.ownerDocument || document;\n          var contentWindow = _this2.props.contentWindow || _this2.document.defaultView || window;\n          _this2.contentWindow = typeof contentWindow === 'function' ? contentWindow() : contentWindow;\n          _this2.scrollContainer = useWindowAsScrollContainer ? _this2.document.scrollingElement || _this2.document.documentElement : getScrollingParent(_this2.container) || _this2.container;\n          _this2.autoScroller = new AutoScroller(_this2.scrollContainer, _this2.onAutoScroll);\n          Object.keys(_this2.events).forEach(function (key) {\n            return events[key].forEach(function (eventName) {\n              return _this2.container.addEventListener(eventName, _this2.events[key], false);\n            });\n          });\n\n          _this2.container.addEventListener('keydown', _this2.handleKeyDown);\n        });\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        var _this3 = this;\n\n        if (this.helper && this.helper.parentNode) {\n          this.helper.parentNode.removeChild(this.helper);\n        }\n\n        if (!this.container) {\n          return;\n        }\n\n        Object.keys(this.events).forEach(function (key) {\n          return events[key].forEach(function (eventName) {\n            return _this3.container.removeEventListener(eventName, _this3.events[key]);\n          });\n        });\n        this.container.removeEventListener('keydown', this.handleKeyDown);\n      }\n    }, {\n      key: \"updateHelperPosition\",\n      value: function updateHelperPosition(event) {\n        var _this$props6 = this.props,\n            lockAxis = _this$props6.lockAxis,\n            lockOffset = _this$props6.lockOffset,\n            lockToContainerEdges = _this$props6.lockToContainerEdges,\n            transitionDuration = _this$props6.transitionDuration,\n            _this$props6$keyboard = _this$props6.keyboardSortingTransitionDuration,\n            keyboardSortingTransitionDuration = _this$props6$keyboard === void 0 ? transitionDuration : _this$props6$keyboard;\n        var isKeySorting = this.manager.isKeySorting;\n        var ignoreTransition = event.ignoreTransition;\n        var offset = getPosition(event);\n        var translate = {\n          x: offset.x - this.initialOffset.x,\n          y: offset.y - this.initialOffset.y\n        };\n        translate.y -= window.pageYOffset - this.initialWindowScroll.top;\n        translate.x -= window.pageXOffset - this.initialWindowScroll.left;\n        this.translate = translate;\n\n        if (lockToContainerEdges) {\n          var _getLockPixelOffsets = getLockPixelOffsets({\n            height: this.height,\n            lockOffset: lockOffset,\n            width: this.width\n          }),\n              _getLockPixelOffsets2 = _slicedToArray(_getLockPixelOffsets, 2),\n              minLockOffset = _getLockPixelOffsets2[0],\n              maxLockOffset = _getLockPixelOffsets2[1];\n\n          var minOffset = {\n            x: this.width / 2 - minLockOffset.x,\n            y: this.height / 2 - minLockOffset.y\n          };\n          var maxOffset = {\n            x: this.width / 2 - maxLockOffset.x,\n            y: this.height / 2 - maxLockOffset.y\n          };\n          translate.x = limit(this.minTranslate.x + minOffset.x, this.maxTranslate.x - maxOffset.x, translate.x);\n          translate.y = limit(this.minTranslate.y + minOffset.y, this.maxTranslate.y - maxOffset.y, translate.y);\n        }\n\n        if (lockAxis === 'x') {\n          translate.y = 0;\n        } else if (lockAxis === 'y') {\n          translate.x = 0;\n        }\n\n        if (isKeySorting && keyboardSortingTransitionDuration && !ignoreTransition) {\n          setTransitionDuration(this.helper, keyboardSortingTransitionDuration);\n        }\n\n        setTranslate3d(this.helper, translate);\n      }\n    }, {\n      key: \"animateNodes\",\n      value: function animateNodes() {\n        var _this$props7 = this.props,\n            transitionDuration = _this$props7.transitionDuration,\n            hideSortableGhost = _this$props7.hideSortableGhost,\n            onSortOver = _this$props7.onSortOver;\n        var containerScrollDelta = this.containerScrollDelta,\n            windowScrollDelta = this.windowScrollDelta;\n        var nodes = this.manager.getOrderedRefs();\n        var sortingOffset = {\n          left: this.offsetEdge.left + this.translate.x + containerScrollDelta.left,\n          top: this.offsetEdge.top + this.translate.y + containerScrollDelta.top\n        };\n        var isKeySorting = this.manager.isKeySorting;\n        var prevIndex = this.newIndex;\n        this.newIndex = null;\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node3 = nodes[i].node;\n          var index = _node3.sortableInfo.index;\n          var width = _node3.offsetWidth;\n          var height = _node3.offsetHeight;\n          var offset = {\n            height: this.height > height ? height / 2 : this.height / 2,\n            width: this.width > width ? width / 2 : this.width / 2\n          };\n          var mustShiftBackward = isKeySorting && index > this.index && index <= prevIndex;\n          var mustShiftForward = isKeySorting && index < this.index && index >= prevIndex;\n          var translate = {\n            x: 0,\n            y: 0\n          };\n          var edgeOffset = nodes[i].edgeOffset;\n\n          if (!edgeOffset) {\n            edgeOffset = getEdgeOffset(_node3, this.container);\n            nodes[i].edgeOffset = edgeOffset;\n\n            if (isKeySorting) {\n              nodes[i].boundingClientRect = getScrollAdjustedBoundingClientRect(_node3, containerScrollDelta);\n            }\n          }\n\n          var nextNode = i < nodes.length - 1 && nodes[i + 1];\n          var prevNode = i > 0 && nodes[i - 1];\n\n          if (nextNode && !nextNode.edgeOffset) {\n            nextNode.edgeOffset = getEdgeOffset(nextNode.node, this.container);\n\n            if (isKeySorting) {\n              nextNode.boundingClientRect = getScrollAdjustedBoundingClientRect(nextNode.node, containerScrollDelta);\n            }\n          }\n\n          if (index === this.index) {\n            if (hideSortableGhost) {\n              this.sortableGhost = _node3;\n              setInlineStyles(_node3, {\n                opacity: 0,\n                visibility: 'hidden'\n              });\n            }\n\n            continue;\n          }\n\n          if (transitionDuration) {\n            setTransitionDuration(_node3, transitionDuration);\n          }\n\n          if (this.axis.x) {\n            if (this.axis.y) {\n              if (mustShiftForward || index < this.index && (sortingOffset.left + windowScrollDelta.left - offset.width <= edgeOffset.left && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height || sortingOffset.top + windowScrollDelta.top + offset.height <= edgeOffset.top)) {\n                translate.x = this.width + this.marginOffset.x;\n\n                if (edgeOffset.left + translate.x > this.containerBoundingRect.width - offset.width) {\n                  if (nextNode) {\n                    translate.x = nextNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = nextNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n\n                if (this.newIndex === null) {\n                  this.newIndex = index;\n                }\n              } else if (mustShiftBackward || index > this.index && (sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top || sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top + height)) {\n                translate.x = -(this.width + this.marginOffset.x);\n\n                if (edgeOffset.left + translate.x < this.containerBoundingRect.left + offset.width) {\n                  if (prevNode) {\n                    translate.x = prevNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = prevNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n\n                this.newIndex = index;\n              }\n            } else {\n              if (mustShiftBackward || index > this.index && sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left) {\n                translate.x = -(this.width + this.marginOffset.x);\n                this.newIndex = index;\n              } else if (mustShiftForward || index < this.index && sortingOffset.left + windowScrollDelta.left <= edgeOffset.left + offset.width) {\n                translate.x = this.width + this.marginOffset.x;\n\n                if (this.newIndex == null) {\n                  this.newIndex = index;\n                }\n              }\n            }\n          } else if (this.axis.y) {\n            if (mustShiftBackward || index > this.index && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top) {\n              translate.y = -(this.height + this.marginOffset.y);\n              this.newIndex = index;\n            } else if (mustShiftForward || index < this.index && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height) {\n              translate.y = this.height + this.marginOffset.y;\n\n              if (this.newIndex == null) {\n                this.newIndex = index;\n              }\n            }\n          }\n\n          setTranslate3d(_node3, translate);\n          nodes[i].translate = translate;\n        }\n\n        if (this.newIndex == null) {\n          this.newIndex = this.index;\n        }\n\n        if (isKeySorting) {\n          this.newIndex = prevIndex;\n        }\n\n        var oldIndex = isKeySorting ? this.prevIndex : prevIndex;\n\n        if (onSortOver && this.newIndex !== oldIndex) {\n          onSortOver({\n            collection: this.manager.active.collection,\n            index: this.index,\n            newIndex: this.newIndex,\n            oldIndex: oldIndex,\n            isKeySorting: isKeySorting,\n            nodes: nodes,\n            helper: this.helper\n          });\n        }\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call');\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: \"getContainer\",\n      value: function getContainer() {\n        var getContainer = this.props.getContainer;\n\n        if (typeof getContainer !== 'function') {\n          return findDOMNode(this);\n        }\n\n        return getContainer(config.withRef ? this.getWrappedInstance() : undefined);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? 'wrappedInstance' : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps)));\n      }\n    }, {\n      key: \"helperContainer\",\n      get: function get() {\n        var helperContainer = this.props.helperContainer;\n\n        if (typeof helperContainer === 'function') {\n          return helperContainer();\n        }\n\n        return this.props.helperContainer || this.document.body;\n      }\n    }, {\n      key: \"containerScrollDelta\",\n      get: function get() {\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n\n        if (useWindowAsScrollContainer) {\n          return {\n            left: 0,\n            top: 0\n          };\n        }\n\n        return {\n          left: this.scrollContainer.scrollLeft - this.initialScroll.left,\n          top: this.scrollContainer.scrollTop - this.initialScroll.top\n        };\n      }\n    }, {\n      key: \"windowScrollDelta\",\n      get: function get() {\n        return {\n          left: this.contentWindow.pageXOffset - this.initialWindowScroll.left,\n          top: this.contentWindow.pageYOffset - this.initialWindowScroll.top\n        };\n      }\n    }]);\n\n    return WithSortableContainer;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableList', WrappedComponent)), _defineProperty(_class, \"defaultProps\", defaultProps), _defineProperty(_class, \"propTypes\", propTypes), _defineProperty(_class, \"childContextTypes\", {\n    manager: PropTypes.object.isRequired\n  }), _temp;\n}\n\nvar propTypes$1 = {\n  index: PropTypes.number.isRequired,\n  collection: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  disabled: PropTypes.bool\n};\nvar omittedProps$1 = Object.keys(propTypes$1);\nfunction sortableElement(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableElement, _React$Component);\n\n    function WithSortableElement() {\n      _classCallCheck(this, WithSortableElement);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(WithSortableElement).apply(this, arguments));\n    }\n\n    _createClass(WithSortableElement, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.register();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (this.node) {\n          if (prevProps.index !== this.props.index) {\n            this.node.sortableInfo.index = this.props.index;\n          }\n\n          if (prevProps.disabled !== this.props.disabled) {\n            this.node.sortableInfo.disabled = this.props.disabled;\n          }\n        }\n\n        if (prevProps.collection !== this.props.collection) {\n          this.unregister(prevProps.collection);\n          this.register();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.unregister();\n      }\n    }, {\n      key: \"register\",\n      value: function register() {\n        var _this$props = this.props,\n            collection = _this$props.collection,\n            disabled = _this$props.disabled,\n            index = _this$props.index;\n        var node = findDOMNode(this);\n        node.sortableInfo = {\n          collection: collection,\n          disabled: disabled,\n          index: index,\n          manager: this.context.manager\n        };\n        this.node = node;\n        this.ref = {\n          node: node\n        };\n        this.context.manager.add(collection, this.ref);\n      }\n    }, {\n      key: \"unregister\",\n      value: function unregister() {\n        var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.collection;\n        this.context.manager.remove(collection, this.ref);\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call');\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? 'wrappedInstance' : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps$1)));\n      }\n    }]);\n\n    return WithSortableElement;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableElement', WrappedComponent)), _defineProperty(_class, \"contextTypes\", {\n    manager: PropTypes.object.isRequired\n  }), _defineProperty(_class, \"propTypes\", propTypes$1), _defineProperty(_class, \"defaultProps\", {\n    collection: 0\n  }), _temp;\n}\n\nexport { sortableContainer as SortableContainer, sortableContainer, sortableElement as SortableElement, sortableElement, sortableHandle as SortableHandle, sortableHandle, arrayMove };\n","/*\n * Copyright (c) 2019-2020 - Bas Milius <bas@mili.us>\n *\n * This file is part of TypeWriter, a base framework for WordPress.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport {Component} from \"@wordpress/element\";\nimport arrayMove from \"array-move\";\nimport {SortableContainer, SortableElement, SortableHandle} from \"react-sortable-hoc\";\n\nexport {\n\tarrayMove\n};\n\nexport class SortableListComponent extends Component\n{\n\trender()\n\t{\n\t\treturn (\n\t\t\t<div className=\"tw-sortable-list\">\n\t\t\t\t{this.props.items.map((value, index) => (\n\t\t\t\t\t<SortableListItem\n\t\t\t\t\t\tkey={\"item-\" + index}\n\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonDelete={this.props.onDelete}/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst SortableListItem = SortableElement(({value, onDelete}) => (\n\t<div className=\"tw-sortable-list-item\">\n\t\t<SortableListItemHandle/>\n\t\t<div className=\"tw-sortable-list-item-body\">\n\t\t\t{value.title && (<strong>{value.title}</strong>)}\n\t\t\t{value.description && (<span>{value.description}</span>)}\n\t\t</div>\n\t\t{onDelete && (\n\t\t\t<a className=\"tw-sortable-list-item-delete\" onClick={() => onDelete(value)}>\n\t\t\t\t<svg role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 352 512\">\n\t\t\t\t\t<path fill=\"currentColor\" d=\"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"></path>\n\t\t\t\t</svg>\n\t\t\t</a>\n\t\t)}\n\t</div>\n));\n\nconst SortableListItemHandle = SortableHandle(() => (\n\n\t<div className=\"tw-sortable-list-item-handle\">\n\t\t<svg role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\">\n\t\t\t<path fill=\"currentColor\" d=\"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z\"></path>\n\t\t</svg>\n\t</div>\n));\n\nexport const SortableList = SortableContainer(SortableListComponent, {withRef: true});\n","import {Button, Fill, Notice, PanelBody, PanelRow, Slot, Spinner} from \"@wordpress/components\";\nimport {compose} from \"@wordpress/compose\";\nimport {withDispatch, withSelect} from \"@wordpress/data\";\nimport {PluginSidebar, PluginSidebarMoreMenuItem} from \"@wordpress/edit-post\";\nimport {Fragment, useState} from \"@wordpress/element\";\nimport {__} from \"@wordpress/i18n\";\nimport {registerPlugin} from \"@wordpress/plugins\";\nimport {SelectPostDialog} from \"../component/SelectPostDialog.jsx\";\nimport {arrayMove, SortableList} from \"../hoc/SortableList.jsx\";\nimport {stripTags} from \"../util/sanitize\";\n\nlet didInitializePlugin = false;\nlet relations = null;\n\nfunction initializePlugin()\n{\n\tif (didInitializePlugin)\n\t\treturn;\n\n\tdidInitializePlugin = true;\n\trelations = new Relations();\n}\n\nexport class Relations\n{\n\n\tconstructor()\n\t{\n\t\tregisterPlugin(\"tw-relations\", {\n\t\t\tname: \"TypeWriter: Relations\",\n\t\t\ticon: \"admin-links\",\n\t\t\trender: () => this.render()\n\t\t});\n\t}\n\n\trender()\n\t{\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<PluginSidebarMoreMenuItem target=\"tw-relations\" icon=\"admin-links\">\n\t\t\t\t\t{__(\"Relation Manager\", \"tw\")}\n\t\t\t\t</PluginSidebarMoreMenuItem>\n\n\t\t\t\t<PluginSidebar name=\"tw-relations\" icon=\"admin-links\" title={__(\"Relations\", \"tw\")}>\n\t\t\t\t\t<PanelBody title={null} initialOpen={true}>\n\t\t\t\t\t\t{__(\"Here are the relationships defined for the object. You can link other objects to this one from here.\", \"tw\")}\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<Slot name=\"tw-relations\"/>\n\t\t\t\t</PluginSidebar>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n}\n\nexport class Relation\n{\n\n\t#id;\n\t#label;\n\t#metaKey;\n\t#foreignType;\n\n\tconstructor(id, label, metaKey, foreignType)\n\t{\n\t\tthis.#id = id;\n\t\tthis.#label = label;\n\t\tthis.#metaKey = metaKey;\n\t\tthis.#foreignType = foreignType;\n\n\t\tinitializePlugin();\n\n\t\tconst ComposedComponent = this.compose();\n\n\t\tregisterPlugin(`tw-relations-${id}`, {\n\t\t\tname: \"\",\n\t\t\ticon: \"\",\n\t\t\trender: () => this.render(ComposedComponent)\n\t\t});\n\t}\n\n\tcompose()\n\t{\n\t\tconst applyWithDispatch = withDispatch((dispatch, {meta}) =>\n\t\t{\n\t\t\tconst {editPost} = dispatch(\"core/editor\");\n\t\t\tconst {createNotice} = dispatch(\"core/notices\");\n\n\t\t\treturn {\n\n\t\t\t\tonObjectAdded: (objectIds, id) =>\n\t\t\t\t{\n\t\t\t\t\tif (objectIds.includes(id))\n\t\t\t\t\t{\n\t\t\t\t\t\tcreateNotice(\"info\", __(\"The selected object is already added.\", \"tw\"), {\n\t\t\t\t\t\t\tisDismissible: true,\n\t\t\t\t\t\t\ttype: \"snackbar\"\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\teditPost({\n\t\t\t\t\t\tmeta: {\n\t\t\t\t\t\t\t...meta,\n\t\t\t\t\t\t\t[this.#metaKey]: [...objectIds, id]\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\tonObjectDeleted: (objectIds, removeId) =>\n\t\t\t\t{\n\t\t\t\t\teditPost({\n\t\t\t\t\t\tmeta: {\n\t\t\t\t\t\t\t...meta,\n\t\t\t\t\t\t\t[this.#metaKey]: objectIds\n\t\t\t\t\t\t\t\t.filter(id => id !== removeId)\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\tonObjectSorted: (objectIds, oldIndex, newIndex) =>\n\t\t\t\t{\n\t\t\t\t\teditPost({\n\t\t\t\t\t\tmeta: {\n\t\t\t\t\t\t\t...meta,\n\t\t\t\t\t\t\t[this.#metaKey]: arrayMove(objectIds, oldIndex, newIndex)\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t};\n\t\t});\n\n\t\tconst applyWithSelect = withSelect(select =>\n\t\t{\n\t\t\tconst {getEntityRecords, getPostType} = select(\"core\");\n\t\t\tconst {getCurrentPostId, getEditedPostAttribute} = select(\"core/editor\");\n\n\t\t\tconst objectIds = getEditedPostAttribute(\"meta\")[this.#metaKey] || [];\n\t\t\tconst objects = getEntityRecords(\"postType\", this.#foreignType, {\n\t\t\t\tincludes: [...objectIds]\n\t\t\t\t\t.sort()\n\t\t\t\t\t.join(\",\"),\n\t\t\t\tper_page: -1\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tcurrentPostId: getCurrentPostId(),\n\t\t\t\tobjects: !objects ? null : objectIds\n\t\t\t\t\t.map(id => objects.find(o => o.id === id))\n\t\t\t\t\t.filter(o => !!o)\n\t\t\t\t\t.map(o => ({\n\t\t\t\t\t\tid: o.id,\n\t\t\t\t\t\ttitle: stripTags(o.title.rendered)\n\t\t\t\t\t})),\n\t\t\t\tobjectIds: objectIds,\n\t\t\t\tpostType: getPostType(getEditedPostAttribute(\"type\"))\n\t\t\t};\n\t\t});\n\n\t\treturn compose(\n\t\t\tapplyWithDispatch,\n\t\t\tapplyWithSelect\n\t\t)(props => this.renderComponent(props));\n\t}\n\n\trender(ComposedComponent)\n\t{\n\t\treturn (\n\t\t\t<ComposedComponent/>\n\t\t);\n\t}\n\n\trenderComponent(props)\n\t{\n\t\tconst [isOpen, setOpen] = useState(false);\n\n\t\tconst onSelect = id =>\n\t\t{\n\t\t\tsetOpen(false);\n\n\t\t\tprops.onObjectAdded(props.objectIds, id);\n\t\t};\n\n\t\treturn (\n\t\t\t<Fill name=\"tw-relations\">\n\t\t\t\t<PanelBody title={this.#label}>\n\t\t\t\t\t{props.objects === null && (\n\t\t\t\t\t\t<Spinner/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{props.objects !== null && props.objects.length > 0 && (\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<SortableList\n\t\t\t\t\t\t\t\titems={props.objects}\n\t\t\t\t\t\t\t\tonDelete={({id}) => props.onObjectDeleted(props.objectIds, id)}\n\t\t\t\t\t\t\t\tonSortEnd={({oldIndex, newIndex}) => props.onObjectSorted(props.objectIds, oldIndex, newIndex)}\n\t\t\t\t\t\t\t\tlockAxis=\"y\"\n\t\t\t\t\t\t\t\tuseDragHandle/>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{props.objects !== null && props.objects.length === 0 && (\n\t\t\t\t\t\t<div style={{margin: \"0 -15px\"}}>\n\t\t\t\t\t\t\t<Notice status=\"warning\" isDismissible={false}>\n\t\t\t\t\t\t\t\t{__(\"There are no objects in this relationship.\", \"tw\")}\n\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\tonClick={() => setOpen(true)}>\n\t\t\t\t\t\t\t{__(\"Add object\", \"tw\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</PanelRow>\n\n\t\t\t\t\t{isOpen && (\n\t\t\t\t\t\t<SelectPostDialog\n\t\t\t\t\t\t\tpostType={this.#foreignType}\n\t\t\t\t\t\t\tonRequestClose={() => setOpen(false)}\n\t\t\t\t\t\t\tonSelect={onSelect}/>\n\t\t\t\t\t)}\n\t\t\t\t</PanelBody>\n\t\t\t</Fill>\n\t\t);\n\t}\n\n}\n","import \"../css/index.scss\";\n\n// import {default as packageJson} from \"../../../package\";\nimport {Gallery, MetaFields, PostThumbnail, Relation} from \"./feature\";\n\nconst packageJson = {\n    name: \"@bybas/typewriter\",\n    version: \"1.0.0\"\n};\n\nfunction init() {\n    window.tw = {\n        feature: {Gallery, MetaFields, PostThumbnail, Relation},\n        name: packageJson.name,\n        version: packageJson.version\n    };\n}\n\ninit();\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(426);\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"sourceRoot":""}